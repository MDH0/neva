// advanced streaming operations

pub type ProductResult<T, R> struct {
    first T
    second R
} 

#extern(stream_product)
pub flow Product<T, R>(first stream<T>, second stream<R>) (seq stream<ProductResult<T, R>>)

pub type ZipResult<T, R> struct {
    first T
    second R
}

#extern(stream_zip)
pub flow Zip<T, R>(first stream<T>, second stream<R>) (seq stream<ZipResult<T, R>>)